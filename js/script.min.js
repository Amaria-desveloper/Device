"use strict";!function(){const e=document.querySelector(".contacts__more"),t=document.querySelector(".modal--write-us"),o=document.querySelector(".modal__close"),a=document.querySelector(".write-us-form"),c=a.querySelector('.write-us-form__input[name="user-name"]'),r=a.querySelector('.write-us-form__input[name="email"]'),l=a.querySelector('.write-us-form__input[name="message"]'),n=document.querySelector(".map"),s=document.querySelector(".modal--map"),u=s.querySelector(".modal__close"),m=s.querySelector(".modal__plug");let d=!0,i={feedbackName:"",feedbackEmail:""};try{i={feedbackName:localStorage.getItem("feedbackName"),feedbackEmail:localStorage.getItem("feedbackEmail")}}catch(e){d=!1}const f=function(e,t){e.classList.add("modal--open"),document.addEventListener("keydown",t)},v=function(e,t){e.classList.remove("modal--open"),document.removeEventListener("keydown",t)},k=function(o){"Escape"===o.key&&(o.preventDefault(),v(t),t.classList.remove("modal--error"),e.focus(),document.removeEventListener("keydown",k))};e.addEventListener("click",function(e){e.preventDefault(),f(t,k),i?(c.value=i.feedbackName,r.value=i.feedbackEmail,l.focus()):c.focus()}),o.addEventListener("click",function(o){o.preventDefault(),v(t,k),t.classList.remove("modal--error"),e.focus()});a.addEventListener("submit",function(e){c.value&&r.value&&l.value?d&&(localStorage.setItem("feedbackName",c.value),localStorage.setItem("feedbackEmail",r.value)):(e.preventDefault(),t.classList.remove("modal--error"),t.style.offsetWidth=a.offsetWidth,t.classList.add("modal--error"))});const p=function(e){"Escape"===e.key&&(e.preventDefault(),v(s),m.classList.remove("modal__plug--off"),n.focus(),document.removeEventListener("keydown",p))};n.addEventListener("click",function(e){e.preventDefault(),m.classList.add("modal__plug--off"),f(s,p)}),u.addEventListener("click",function(e){e.preventDefault(),v(s,p),m.classList.remove("modal__plug--off"),n.focus()})}();
